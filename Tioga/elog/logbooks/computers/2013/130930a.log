$@MID@$: 30
Date: Mon, 30 Sep 2013 19:52:20 +0000
Author: lstolp
Cruise: ti708
Computer: ftp
Type: notes
Category: Hardware | Software | Other
Subject: rebuild of ftp
Attachment: 
Encoding: HTML
========================================
<p>root@ftptioga:~# apt-get install subversion vim build-essential make gcc ntp alpine minicom emacs logwatch snmpd traceroute smokeping samba vsftpd</p>
<p>apt-get install</p>
<pre style="font-family:monospace;" class="linux">
sudo apt-get install snmp-mibs-downloader</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>installed ntp and named.. there are notes somewhere else..</p>
<p><strong>DHCP</strong></p>
<pre style="margin-left: 40px;"><code>sudo apt-get install isc-dhcp-server </code><code>sudo vi /etc/default/isc-dhcp-server </code>
</pre>
<p style="margin-left: 40px;">You should get the following:</p>
<p style="margin-left: 40px;"><code>#Defaults for dhcp initscript #sourced by /etc/init.d/dhcp #installed at /etc/default/isc-dhcp-server by the maintainer scripts # #This is a POSIX shell fragment # #On what interfaces should the DHCP server (dhcpd) serve DHCP requests&quot; #Separate multiple interfaces with spaces, e.g. &ldquo;eth0 eth1&quot;. INTERFACES=&quot;eth0&quot; </code></p>
<p style="margin-left: 40px;">Replace <strong>eth0</strong> above with the name of your network interface that you want the server to lease addresses on. Onto the next file.</p>
<p style="margin-left: 40px;">Open up a terminal and type:</p>
<p style="margin-left: 40px;"><code>sudo vim /etc/dhcp/dhcpd.conf </code></p>
<p style="margin-left: 40px;">copied over from tioga, and restarted..</p>
<p>&nbsp;</p>
<p><strong>GMT install</strong></p>
<p style="margin-left: 40px;">&nbsp;cd netcdf-4.0;./configure ;make ;make install<br />
&nbsp;popd<br />
&nbsp;echo<br />
<br />
&nbsp;echo<br />
&nbsp;echo installing gmt 4.4<br />
&nbsp;pushd /usr/local/src/<br />
&nbsp;tar -xzvf gmt-4.4.0.tgz</p>
<p style="margin-left: 40px;">mkdir /usr/local/gmt<br />
&nbsp;sh install_gmt GMTparam.txt<br />
&nbsp;echo</p>
<p style="margin-left: 40px;">&nbsp;</p>
<p><strong>Installed the following Tar files:</strong><br />
Device-SerialPort-1.04.tar.gz<br />
picocom-1.7.tar.gz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />
udp-broadcast-relay-0.3.whoi.tgz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />
Physics-Water-SoundSpeed-0.92.tar.gz<br />
&nbsp; ** edited out print statement vi /usr/local/share/perl/5.14.2/Physics/Water/SoundSpeed.pm<br />
<br />
&nbsp;</p>
<p><strong>db.driven</strong></p>
<p>Packages needed from perl for the feeder scripts to work<br />
&nbsp; DBI-1.630.tar.gz <br />
&nbsp; DBD-SQLite-1.40.tar.gz <br />
&nbsp; Math-Complex-1.59.tar.gz <br />
&nbsp;</p>
<p>apache2 install #!/bin/bash<br />
<br />
&nbsp;root@ftp:/etc/apache2/mods-enabled# vi dir.conf</p>
<p style="margin-left: 40px;">add index.shtml to above</p>
<p style="margin-left: 40px;">sudo a2enmod include</p>
<p style="margin-left: 40px;">&nbsp;</p>
<p><strong>mountscripts</strong></p>
<p>mountadcp needs to be updated when adcp computer is put back in rack</p>
<p>/root/bin/mountall</p>
<p>&nbsp;</p>
<p>&nbsp;# a simple script to keep all samba mounts working<br />
<br />
/root/bin/mountadcp<br />
/root/bin/mountunderway<br />
/root/bin/mountctd<br />
/root/bin/mountknudsen</p>
<p>&nbsp;</p>
<p>cmail </p>
<p>/etc/mail</p>
<p>root@ftp:/etc/mail# ls -la<br />
total 304<br />
drwxr-sr-x&nbsp;&nbsp; 7 smmta smmsp&nbsp; 4096 Jan 23 16:24 .<br />
drwxr-xr-x 117 root&nbsp; root&nbsp;&nbsp; 4096 Jan 23 16:22 ..<br />
-rwxr-xr--&nbsp;&nbsp; 1 root&nbsp; smmsp 10163 Dec&nbsp; 3 19:28 Makefile<br />
-rw-------&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 4071 Jan 23 16:13 access<br />
-rw-r-----&nbsp;&nbsp; 1 smmta smmsp 12288 Jan 23 16:13 access.db<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp;&nbsp; 281 Aug 14&nbsp; 2011 address.resolve<br />
lrwxrwxrwx&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp;&nbsp;&nbsp; 10 Oct&nbsp; 1 19:54 aliases -&gt; ../aliases<br />
-rw-r-----&nbsp;&nbsp; 1 cmail smmsp 12288 Dec&nbsp; 3 19:28 aliases.db<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp; 3270 Dec&nbsp; 3 19:28 databases<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp; 5657 Aug 14&nbsp; 2011 helpfile<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp;&nbsp;&nbsp; 14 Oct&nbsp; 1 19:54 local-host-names<br />
drwxr-sr-x&nbsp;&nbsp; 2 smmta smmsp&nbsp; 4096 Oct&nbsp; 1 19:54 m4<br />
drwxr-xr-x&nbsp;&nbsp; 2 root&nbsp; root&nbsp;&nbsp; 4096 Dec&nbsp; 3 19:28 peers<br />
drwxr-xr-x&nbsp;&nbsp; 2 root&nbsp; smmsp&nbsp; 4096 Aug 14&nbsp; 2011 sasl<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp 65350 Jan 23 16:24 sendmail.cf<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp;&nbsp; 269 Dec&nbsp; 3 19:28 sendmail.cf.errors<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 2836 Nov&nbsp; 1 16:12 sendmail.cf.not<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp; 6017 Dec&nbsp; 3 19:28 sendmail.cf.old<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp; 12236 Dec&nbsp; 3 19:28 sendmail.conf<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 4273 Dec&nbsp; 3 19:28 sendmail.mc<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 4221 Nov&nbsp; 1 16:10 sendmail.mc.org<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 2143 Nov&nbsp; 1 16:14 sendmail.mc.whoi<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp;&nbsp; 149 Aug 14&nbsp; 2011 service.switch<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp;&nbsp;&nbsp; 180 Aug 14&nbsp; 2011 service.switch-nodns<br />
drwxr-sr-x&nbsp;&nbsp; 2 smmta smmsp&nbsp; 4096 Oct&nbsp; 1 19:54 smrsh<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp 44042 Dec&nbsp; 3 19:28 submit.cf<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; root&nbsp; 44032 Dec&nbsp; 3 19:28 submit.cf.old<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp; 2381 Dec&nbsp; 3 19:28 submit.mc<br />
drwxr-xr-x&nbsp;&nbsp; 2 smmta smmsp&nbsp; 4096 Oct&nbsp; 1 19:54 tls<br />
-rw-r--r--&nbsp;&nbsp; 1 root&nbsp; smmsp&nbsp;&nbsp;&nbsp;&nbsp; 6 Jan 22 21:25 trusted-users<br />
&nbsp;</p>
<p>add cmail to /etc/group smmta and smmsp</p>
<p>add cmail to trusted-users </p>
<p>edit /etc/access to add tioga subnets</p>
<p>&nbsp;</p>
<p>Connect:192.168.11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RELAY<br />
GreetPause:192.168.11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
ClientRate:192.168.11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
ClientConn:192.168.11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
Connect:192.168.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RELAY<br />
GreetPause:192.168.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
ClientRate:192.168.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
ClientConn:192.168.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
<br />
&nbsp;</p>
<p>added system users to /usr/local/cmail/bin/newfilter: </p>
<p>list, gnats, dovecot, dovenull, smokeping, smmta, smmsp</p>
<p>used: </p>
