$@MID@$: 3
Date: Sun, 06 Nov 2011 18:55:57 +0000
Author: AH
S/N: 
Type: Configuration
Category: Hardware
Subject: Backup GPS added
Cruise: at18-13
Attachment: 
Encoding: HTML
========================================
<p>EMAIL TO JULES REGARDING ADDITION OF A BACKUP GPS TO ADCP<br />
<br />
In a way most of our GPS's are switchable.&nbsp; The one that is there has 3&nbsp;&nbsp; <br />
different GPS feeds (CNAV, 1850, 90-D) all going into a switch on the<br />
bridge and you pick one of them.&nbsp; I quite imagine that unless there is a<br />
major problem, that one will be the CNAV for quite sometime.<br />
<br />
I added another GPS to the adcp, but it is also, essentially, on a switch.<br />
This one comes from either the 941 (which will be disappearing whenever it<br />
dies) or an entirely different 1850 (not the one on the other switch),&nbsp;&nbsp;&nbsp; <br />
which is where it is set now.<br />
<br />
I hooked it up to the adcp.&nbsp; It is coming in device ttyn5.&nbsp; I added it to<br />
the sensor_cfg.py file and started a new cruise at18-13b.&nbsp; It seems to be<br />
working fine.&nbsp; I did not copy it to the backup computer yet.</p>
<p>***HOW TO ADD***</p>
<p>1)&nbsp; Make an RS-232 connection to signal (only need 2 wires, signal and ground) - use flat cable stock (in my case it was black and green wire)</p>
<p>2)&nbsp; Use blue dot connector (25-pin) to connect to one of the ADCP connectors (P0-P10 I think they are) - 25-pin connector</p>
<p>3)&nbsp; figure out what device this represents<br />
&nbsp;&nbsp;&nbsp;&nbsp; I did this using a terminal window and:</p>
<p>&nbsp;&nbsp;&nbsp; &gt;screen {device} {baud rate}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for example:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;screen /dev/ttyn5 4800</p>
<p>&nbsp;&nbsp;&nbsp; I made sure I could see one of the existing devices and then I entered different devices until I found correct one</p>
<p>&nbsp;&nbsp;&nbsp; I don't know how to stop screen correctly - so I was killing the process, I used &gt;pidof SCREEN to find the process id</p>
<p>4)&nbsp; Add new sensor to /home/adcp/config/sensor_cfg.py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; this is a python script, and I guess indenting, etc. is meaningful, so need to be careful - make a backup of original first</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; I copied the section for the existing gps - pasted it - and then made changes</p>
<p>&nbsp;&nbsp;&nbsp; ***Be aware of the final &quot;]&quot; if you copy it to the end of the list.&nbsp; I didn't notice there was a &quot;]&quot; at the beginning and end of the sensor section at first</p>
