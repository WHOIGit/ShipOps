$@MID@$: 69
Date: Mon, 01 Dec 2014 11:15:09 +0000
Author: lstolp
Type: Configuration
name: atdatalog
server type: data
OS: Linux
Location: Computer Lab
Category: Software
Subject: dsLogCSV
Cruise: at26-24
Attachment: 
Encoding: HTML
========================================
<p>*Note* - Must stop dsLogs on atdatalog01 prior to running newcruise and restart after newcruise in order for there to be a csv file for the day you ran newcruise. If you do not start/stop the inis, the csv will not be created until the following day.&nbsp; ~Catie 28Dec14</p>
<p>&nbsp;</p>
<p>The dsLogCSV.ini file controls which csv files are being written. It is in</p>
<div>atdatalog:/home/dslog/dsLogCSV.ini</div>
<div>It is a symbolic link to at_dsLogCSV_20141022.ini</div>
<div>&nbsp;</div>
<div>dsLogCSV gets it data from dsLog. The dsLog.ini file needed to be edited to add a Destination of itself</div>
<div>w/ the correct UDP port for example this was added to the GPS [INPUT_1]:</div>
<div>DESTINATION_3=0</div>
<div>DESTINATION_3_IPADDRESS=&quot;127.0.0.1&quot;</div>
<div>DESTINATION_3_SOCKET=55001</div>
<div>&nbsp;</div>
<div>In dsLogCSV an abstract index is used to store the data (we were using sqlite3 the same way). dsLogCSV</div>
<div>grabs the data from the UDP port and stuffs it into the abstract index (the abstract index used is at</div>
<div>the top of the dsLogCSV.ini file). If it is a string that needs to be parsed then a parsing rule is</div>
<div>applied (in documentation being written) and it is stuffed into the abstract index. Anything stuffed</div>
<div>into the AI can be used to create a csv file. Things that need to be calculated, grab the values needed</div>
<div>from the AI and this variable can be put into csv.</div>
<div>&nbsp;</div>
<div>I have it creating 3 csv files right now:</div>
<div>&nbsp;</div>
<div>AT141030_1942.csv</div>
<div>which should pretty much be the same as your old csv &nbsp;file, most of the plotting scripts should work on</div>
<div>it. The calculated barometric pressure is different variable from the raw pressure coming from the</div>
<div>vaisala. This would be the generic csv file for science.</div>
<div>&nbsp;</div>
<div>AT_IMU10_141030_1941.csv</div>
<div>This the phins data parsed.. I did this for fun more than anything..</div>
<div>&nbsp;</div>
<div>AT_SSW20_141030_1942.csv</div>
<div>This has all the contaminated sensors in it including 3 different sound velocities..</div>
<div>SSV_SBE45 &nbsp;this is from the SBE45</div>
<div>SSV_dslog this is the one dsLogCSV calculates using a c program from the MAC group.</div>
<div>SSV_perl &nbsp;this is from ftp caculated using the perl module. This is the one that gets fed to the em122.</div>
<div>&nbsp;</div>
<div>I do have some plotting programs that will plot up the some of these..</div>
<div>&nbsp;</div>
<div>On linus I have /root/bin/suds/make_csvfile.pl.samostoo writing the csv file to</div>
<div>/home/data/underway/perl_csv, and the samos and noaa files to /home/data/underway/proc. The</div>
<div>/home/data/underway/proc is now a mounted directory from atdatalog:/underway/proc where dsLogCSV writes</div>
<div>the csv files.</div>
<div>&nbsp;</div>
